[![返回目录](https://parg.co/Udx)](https://parg.co/UdT)

# Backend for Frontend，性能与效率的平衡

BIF, Backend in Frontend 的概念

在 [Api CheatSheet]() 中，标准的 RESTful 接口是为，而在 [PayPal]() 的实践中又引入了所谓 Complex Operation 的概念，来处理跨资源的逻辑操作。在业务极速变化的情况下，前端往往需要从

这时候 BFF 层就起到了接口聚合的作用，正如 GraphQL 的思想一样，让前端从单一接口请求，减少数据交互的频次。

数据组装一个是从数据源上，针对多源异构数据的组装；另一个是在于逻辑关系上，将原本数据库联查的压力转移到逻辑层或者前端。

GraphQL 与 BFF 并没有必然的联系，BFF 更多是对于关注点分离原则的实践

我们希望能够在开发效率与性能之间达成平衡，性能包括后台的数据库组装

student 以 JSON 字段的方式存放了 course 相关。我们的课程数据是相对静态数据，可以认为在某次 Session 周期内，其是可静态缓存的。student_profile 表中获取

如果我们在标准后台中，依靠数据库查询的方式进行数据组装，那么不可避免地要进行多次查询，或者相对性能损耗较大地模糊查询。

在所谓的 BFF 层去进行数据组装

# GraphQL

GraphQL 最有趣的特性之一，是它本质上是面向消费者的，响应体的结构不取决于服务端，而是完全由客户端驱动。直观的理解就是 GraphQL 规定客户端在发起请求的时候必须显示的标注所需要获得的原子资源的类型以及在返回体中的位置，这一点和 Immutable.js 中的`update`函数很类似，你都需要显示指明到叶子节点。这样确实使得整个请求需要很多额外的数据参数与编码工作，但是它就将消费者解耦了，并且强迫服务端遵守 Postel 法则 ( 对自己严格，对他人宽容 )。
